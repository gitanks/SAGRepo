<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">getOAuth2Tokens</value>
  <value name="sigtype">java 3.5</value>
  <value name="encodeutf8">true</value>
  <value name="body">CQkNCgkJSURhdGFDdXJzb3IgbWFpbkN1cnNvciA9IHBpcGVsaW5lLmdldEN1cnNvcigpOw0KCQlD
b25zdW1lck1hbmFnZXIgbWdyID0gQ29uc3VtZXJNYW5hZ2VyLmdldEluc3RhbmNlKCk7DQoJCWlm
IChtZ3IgIT0gbnVsbCkgewkJCSAgIA0KCSAgICAgIAkJICAgICAgDQoJICAgICAgIENvbGxlY3Rp
b248Q29uc3VtZXI+IHZhbGlkQ29uc3VtZXJzID0gbWdyLmdldE9BdXRoQ29uc3VtZXJNYW5hZ2Vy
KCkuZ2V0QWxsT0F1dGgyQ29uc3VtZXJXaXRoQ2xpZW50SURzKCk7DQoJDQoJICAgICAgIGlmICh2
YWxpZENvbnN1bWVycyAhPSBudWxsKSB7DQoJICAgICAgIAkgICAJDQoJICAgIAkgICBJRGF0YVtd
IGNvbkFycmF5ID0gbmV3IElEYXRhW3ZhbGlkQ29uc3VtZXJzLnNpemUoKV07ICAvL2FycmF5IG9m
IGNvbnN1bWVyIElEYXRhDQoJICAgICAgICAgICBpbnQgeCA9IDA7DQoJICAgICAgICAgICBmb3Ig
KENvbnN1bWVyIGNvbjogdmFsaWRDb25zdW1lcnMpIHsNCgkgICAgICAgICAgICAgICBjb25BcnJh
eVt4XSA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsgICAgICAgLy9jcmVhdGUgYSBjb25zdW1lciBJ
RGF0YSB0byBzdG9yZSBjb25zdW1lciBpbmZvDQoJICAgICAgICAgICAgICAgSURhdGFDdXJzb3Ig
Y3Vyc29yID0gY29uQXJyYXlbeF0uZ2V0Q3Vyc29yKCk7DQoJDQoJICAgICAgICAgICAgICAgSURh
dGFVdGlsLnB1dChjdXJzb3IsICJpZHgiLCB4KTsNCgkgICAgICAgICAgICAgICBTdHJpbmcgbmFt
ZSA9IGNvbi5nZXROYW1lKCk7DQoJICAgICAgICAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3Is
ICJuYW1lIiwgbmFtZSk7ICAgICAgICAvL3N0b3JlIG5hbWUNCgkgICAgICAgICAgICAgICANCgkg
ICAgICAgICAgICAgICBTdHJpbmcga2V5PWNvbi5nZXRLZXkoKTsNCgkgICAgICAgICAgICAgICBJ
RGF0YVV0aWwucHV0KGN1cnNvciwgImtleSIsIGtleSk7DQoJICAgICAgICAgICAgICAgU3RyaW5n
IG9hdXRoVG9rZW49ICBjb24uZ2V0S2V5KCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAN
CgkJICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgDQoJICAgICAgICAgICAgICAgUmVnaXN0
ZXJlZENvbnN1bWVyTmFtZXNNYW5hZ2VyICAgcmNuTWdyID0gKFJlZ2lzdGVyZWRDb25zdW1lck5h
bWVzTWFuYWdlcikgQ29uZmlnVXRpbC5nZXRJbnN0YW5jZSgpLmdldEJlYW4oUmVnaXN0ZXJlZENv
bnN1bWVyTmFtZXNNYW5hZ2VyLkRFRkFVTFRfTkFNRSk7DQoJICAgICAgICAgICAgICAgU3RyaW5n
IHNlcnZpY2VLZXlGb3JPYXV0aFRva2VuID0gcmNuTWdyLmdldFNlcnZpY2VOYW1lRm9yT0F1dGgy
VG9rZW4ob2F1dGhUb2tlbik7DQogICAgICAgICAgICAgICAgICAgU3RyaW5nIHNlcnZpY2VOYW1l
Rm9yT2F1dGhUb2tlbiA9IGdldFNlcnZpY2VOYW1lV2l0aFZlcnNpb24oc2VydmljZUtleUZvck9h
dXRoVG9rZW4pOw0KCSAgICAgICAgICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAic2Vydmlj
ZU5hbWVGb3JPYXV0aFRva2VuIiwgc2VydmljZU5hbWVGb3JPYXV0aFRva2VuKTsNCgkgICAgICAg
ICAgICAgICANCgkgICAgICAgICAgICAgICANCgkgICAgICAgICAgICAgICBTdHJpbmcgY2xpZW50
bmFtZSA9IGNvbi5nZXRDbGllbnROYW1lKCk7DQoJICAgICAgICAgICAgICAgSURhdGFVdGlsLnB1
dChjdXJzb3IsICJjbGllbnRuYW1lIiwgY2xpZW50bmFtZSk7IA0KCSAgICAgICAgICAgICAgCQkN
CgkgICAgICAgICAgICAgICBTdHJpbmcgY2xpZW50aWQgPSBjb24uZ2V0T0F1dGgyQ2xpZW50SUQo
KTsNCgkgICAgICAgICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImNsaWVudGlkIiwgY2xp
ZW50aWQpOyANCgkgICAgICAgICAgICAgICANCgkgICAgICAgICAgICAgICBTdHJpbmcgZGVzYyA9
IGNvbi5nZXREZXNjcmlwdGlvbigpOw0KCSAgICAgICAgICAgICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCAiZGVzY3JpcHRpb24iLCBkZXNjKTsgLy9zdG9yZSBkZXNjcmlwdGlvbg0KCSAgICAgICAg
ICAgICAgCQkgICAgICAgICAgICAgICANCgkgICAgICAgICAgICAgICBTdHJpbmcgcGFydG5lcklE
ID0gY29uLmdldFBhcnRuZXJJRCgpOw0KCSAgICAgICAgICAgICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCAicGFydG5lcmlkIiwgcGFydG5lcklEKTsgLy9zdG9yZSBkZXNjcmlwdGlvbg0KCSAgICAg
ICAgICAgICAgIAkJDQoJICAgICAgICAgICAgICAgTGlzdDxTdHJpbmc+IHRva2VucyA9IGNvbi5n
ZXRUb2tlbnMoKTsNCgkgICAgICAgICAgICAgICBwcm9jZXNzVG9rZW5zKHRva2VucywgY3Vyc29y
KTsgICAgICAgICAgICAgIC8vc3RvcmUgdGhlIHRva2Vucw0KCQ0KCSAgICAgICAgICAgICAgIENv
bGxlY3Rpb248SVBSYW5nZT4gcmFuZ2VzID0gY29uLmdldElQUmFuZ2VzKCk7DQoJICAgICAgICAg
ICAgICAgcHJvY2Vzc0lQUmFuZ2VzKHJhbmdlcywgY3Vyc29yKTsgICAgICAgICAgICAvL3N0b3Jl
IHRoZSBJUCByYW5nZXMNCgkNCgkgICAgICAgICAgICAgICBYTUxHcmVnb3JpYW5DYWxlbmRhciBj
cmVhdGVkID0gY29uLmdldENyZWF0ZWQoKTsNCgkgICAgICAgICAgICAgICBJRGF0YVV0aWwucHV0
KGN1cnNvciwgImNyZWF0ZWQiLCBnZXRGb3JtYXR0ZWREYXRlKGNyZWF0ZWQpKTsgICAgIC8vc3Rv
cmUgY3JlYXRlZCBkYXRlDQoJICAgICAgICAgICAgICAgDQoJICAgICAgICAgICAgICAgWE1MR3Jl
Z29yaWFuQ2FsZW5kYXIgbW9kaWZpZWQgPSBjb24uZ2V0TW9kaWZpZWQoKTsNCgkgICAgICAgICAg
ICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIm1vZGlmaWVkIiwgZ2V0Rm9ybWF0dGVkRGF0ZSht
b2RpZmllZCkpOyAgLy9zdG9yZSBtb2RpZmllZCBkYXRlDQoJICAgICAgICAgICAgICAgDQoJICAg
ICAgICAgICAgICAgDQoJICAgICAgICAgICAgICAgSW50ZWdlciB0b2tlblJlZnJlc2hJbnRlcnZh
bCA9IGNvbi5nZXRUb2tlblJlZnJlc2hJbnRlcnZhbCgpOw0KCSAgICAgICAgICAgICAgIGlmKHRv
a2VuUmVmcmVzaEludGVydmFsICE9IG51bGwgJiYgdG9rZW5SZWZyZXNoSW50ZXJ2YWwgPiAwKSB7
DQoJICAgICAgICAgICAgCSAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAidG9rZW5SZWZyZXNoSW50
ZXJ2YWwiLCB0b2tlblJlZnJlc2hJbnRlcnZhbCk7DQoJICAgICAgICAgICAgICAgfQ0KCSAgICAg
ICAgICAgICAgIA0KCQ0KCSAgICAgICAgICAgICAgIFg1MDlDZXJ0aWZpY2F0ZSBjZXJ0ID0gY29u
LmdldENvbnN1bWVyQ2VydCgpOw0KCSAgICAgICAgICAgICAgIHByb2Nlc3NDZXJ0KGNlcnQsIGN1
cnNvcik7ICAgICAgICAgICAgICAgICAgIC8vc3RvcmUgdGhlIGNlcnQgaWYgcHJlc2VudCAgICAN
CgkgICAgICAgICAgICAgICANCgkgICAgICAgICAgICAgICB4Kys7ICAgICAgICAgICAgICAgICAg
ICAgDQoJICAgICAgICAgICB9DQoJICAgICAgICAgICBtYWluQ3Vyc29yLmluc2VydEFmdGVyKCJj
b25zdW1lcnMiLCBjb25BcnJheSk7ICAgLy9zdG9yZSBhbGwgdGhlIGNvbnN1bWVyIElEYXRhIGFy
cmF5IGludG8gbWFpbiBjdXJzb3INCgkgICAgICAgfQ0KCSAgICAgIA0KCSAgIH0NCgkJDQo=</value>
</Values>
