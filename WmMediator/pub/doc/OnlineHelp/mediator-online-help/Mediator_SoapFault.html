<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Service Fault Configuration</title><link rel="Prev" href="Mediator_GeneralConfig.html" title="Previous"><link rel="Next" href="_mediator_online_help.1.11.html" title="Next"><link rel="StyleSheet" href="css/_mediator_online_help.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/_mediator_online_help_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/mediator-online-help/Mediator_SoapFault.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pMh2jO8RkxclI_002f854fbhlig" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/mediator-online-help/Mediator_SoapFault.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../mediator-online-help/_mediator_online_help.1.02.html#wwconnect_header">Administering Mediator</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Service Fault Configuration</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_6_17_1" class="Heading_1">Service Fault Configuration</div><div id="ww3_6_17_3_2_2" class="Body">You can use these options to configure global error responses for all virtual services.</div><div id="ww3_6_17_3_2_4" class="Body">Alternatively, you can configure each virtual service or virtual API individually, as follows:</div><div id="ww3_6_17_3_2_4_2_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>For a virtual service, you can configure an Error Messaging step on the virtual serviceâ€™s "Response Processing" tab, as described in the section <span class="Citation">Virtualized Services in </span><span class="Citation">CentraSite</span><span class="Citation"> Control &gt; Configuring Virtual Services</span> of the <span class="ph">CentraSite</span> documentation.</div><div id="ww3_6_17_3_2_4_2_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>For a virtual API, you can configure a "Custom SOAP Response Message" action for the virtual API, as described in the section <span class="Citation">Virtualizing APIs Using the </span><span class="Citation">CentraSite</span><span class="Citation"> Business UI &gt; Configuring Virtual Services</span> of the <span class="ph">CentraSite</span> documentation.</div><div id="ww3_6_17_3_2_6" class="Body">By default, when Mediator receives 4xx error codes from the native services, Mediator sends the 4xx error codes to the client. By default, the following native service response error codes will be sent to the client: 400, 401 (if the request returns the user), 403, 406, 407, 408, 409, 412, 413, 415, 416, 417. For all other error codes, error code 500 will be sent back to the client.</div><div id="ww3_6_17_3_2_8" class="Body">The precedence of the error messaging instructions is as follows:</div><div id="ww3_6_17_3_2_8_2_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>If you create an error messaging step for a virtual service, the error messaging step takes precedence over any settings on the <span class="wintitle">Service Fault Configuration</span> page.</div><div id="ww3_6_17_3_2_8_2_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>If you do not create an error messaging step for a virtual service, the settings on the <span class="wintitle">Service Fault Configuration</span> page take precedence.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_17_3_2_10_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_17_3_2_10_1_3_1_2" class="Table_Cell">Unlike with SOAP specifications, there is no agreed upon format to suggest an error condition for XML and REST services (that is, there is no element nested in a <span class="parmname">&lt;/soap:Fault&gt;</span> element nested in a <span class="parmname">&lt;/soap:Body&gt;</span>). <span class="ph">Mediator</span> assumes that XML and REST services will follow HTTP conventions and return responses with return codes in the 200-299 range when service calls are successful. This is the only way <span class="ph">Mediator</span> can determine that a native provider's response should be interpreted as a failure.</div></td></tr></table></div><div id="ww3_6_17_3_2_12" class="Body">Click <span class="uicontrol">Edit</span> to edit the configuration parameters.</div><div id="ww3_6_17_3_2_14" class="Body">The various parameters that can be configured are:</div><div id="ww3_6_17_3_2_16" class="Body"><span class="inlinetitle">Service Fault Configuration</span></div><div class="ww_skin_page_overflow"><table class="rules1" summary=""><tr><td class="Table_Cell_Head" style="background-color: #D6D6D6; border-bottom-color: #007096; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: bottom; width: 132.48000000000002pt"><div id="ww3_6_17_3_2_18_2_6_2_2" class="Table_Cell_Head">Parameter</div></td><td class="Table_Cell_Head" style="background-color: #D6D6D6; border-bottom-color: #007096; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: bottom; width: 280.08pt"><div id="ww3_6_17_3_2_18_2_6_2_4" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_6_17_3_2_18_2_8_2_2" class="Table_Cell"><span class="uicontrol">Default Fault Response</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_6_17_3_2_18_2_8_2_4_2" class="Table_Cell">When you select this option, <span class="ph">Mediator</span> returns the following fault response to the consuming application:</div><div id="ww3_6_17_3_2_18_2_8_2_4_4" class="Table_Cell"><span class="codeph">Mediator encountered an error:$ERROR_MESSAGE while executing operation:$OPERATION service:$SERVICE at time:$TIME on date:$DATE. The client ip was:$CLIENT_IP. The current user:$USER. The consumer application:$CONSUMER_APPLICATION".</span></div><div id="ww3_6_17_3_2_18_2_8_2_4_6" class="Table_Cell">The fault response contains predefined fault handler variables, which are described in <span class="Citation">The Fault Handler Variables</span> section of <span class="ph"> </span><span class="Citation">Administering webMethods Mediator</span>.</div><div id="ww3_6_17_3_2_18_2_8_2_4_8" class="Table_Cell">This fault response is returned in both of the following cases:</div><div id="ww3_6_17_3_2_18_2_8_2_4_10_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>In cases where a fault is returned by the native service provider.</div><div id="ww3_6_17_3_2_18_2_8_2_4_10_2_3" class="List_1_Continued">In this case, the <span class="parmname">$ERROR_MESSAGE</span> variable in the fault response will contain the message produced by the provider's exception that caused the error. <span class="ph">Mediator</span> discards the native service provider's fault and does not return this content to the web service caller since it could be considered a security issue, especially if the native provider is returning a stack trace with its response.</div><div id="ww3_6_17_3_2_18_2_8_2_4_10_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>In cases where a fault is returned by internal <span class="ph">Mediator</span> exceptions (policy violation errors, timeouts, etc.).</div><div id="ww3_6_17_3_2_18_2_8_2_4_10_4_5" class="List_1_Continued">In this case, the <span class="parmname">$ERROR_MESSAGE</span> variable will contain the error message generated by <span class="ph">Mediator</span>.</div><div id="ww3_6_17_3_2_18_2_8_2_4_12" class="Table_Cell">You can customize the default fault response using the following substitution variables, where <span class="ph">Mediator</span> replaces the variable reference with the real content at run time:</div><div id="ww3_6_17_3_2_18_2_8_2_4_14_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="ph">Mediator</span>'s predefined context variables.</div><div id="ww3_6_17_3_2_18_2_8_2_4_14_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Custom context variables that you declare using the <span class="ph">Mediator</span> API.</div><div id="ww3_6_17_3_2_18_2_8_2_4_14_4_5" class="List_1_Continued">For details about the predefined and custom context variables, see the section <span class="Citation">Virtualized Services in </span><span class="Citation">CentraSite</span><span class="Citation"> Control &gt; Using Context Variables in Virtualized Services</span> in the <span class="ph">CentraSite</span> documentation.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_6_17_3_2_18_2_8_4_2" class="Table_Cell"><span class="uicontrol">Send Native Provider Fault</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_6_17_3_2_18_2_8_4_4" class="Table_Cell">When you select this option, <span class="ph">Mediator</span> sends the native service provider's fault content, if available. <span class="ph">Mediator</span> will send whatever content it received from the native service provider.</div><div id="ww3_6_17_3_2_18_2_8_4_4_6" class="Table_Cell">If you select this option, the <span class="uicontrol">Default Fault Response</span> is ignored when a fault is returned by the native service provider. (Faults returned by internal <span class="ph">Mediator</span> exceptions will still be handled by the <span class="uicontrol">Default Fault Response</span> option.)</div></td></tr></table></div><div id="ww3_6_17_3_2_20" class="Body">The various operations performed in this screen are:</div><div class="ww_skin_page_overflow"><table class="rules1" summary=""><tr><td class="Table_Cell_Head" style="background-color: #D6D6D6; border-bottom-color: #007096; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: bottom; width: 132.48000000000002pt"><div id="ww3_6_17_3_2_22_2_6_2_2" class="Table_Cell_Head">Command</div></td><td class="Table_Cell_Head" style="background-color: #D6D6D6; border-bottom-color: #007096; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: bottom; width: 280.08pt"><div id="ww3_6_17_3_2_22_2_6_2_4" class="Table_Cell_Head">Action</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_6_17_3_2_22_2_8_2_2" class="Table_Cell"><span class="uicontrol">Return</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_6_17_3_2_22_2_8_2_4" class="Table_Cell">Click to return to the previous screen.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_17_3_2_22_2_8_2_4_2_2_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_17_3_2_22_2_8_2_4_2_2_1_3_1_2" class="Table_Cell">If you click return before saving, the modified configuration parameters will not be saved.</div></td></tr></table></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_6_17_3_2_22_2_8_4_2" class="Table_Cell"><span class="uicontrol">Save</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3px; padding-left: 8px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_6_17_3_2_22_2_8_4_4" class="Table_Cell">Click to save the modified configuration parameters if any.</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://softwareag.com/licenses/" target="external_window">Copyright Â© <span>2009</span><span>-2017</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/product_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>