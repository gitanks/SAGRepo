<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Service Fault Configuration</title><link rel="Prev" href="CloudStreams_STS.html" title="Previous"><link rel="Next" href="CloudStreams_Consumers.html" title="Next"><link rel="StyleSheet" href="css/_cloudstreams_online_help.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/_cloudstreams_online_help_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/cloudstreams-is-onlinehelp/CloudStreams_Fault.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN4wPiLNJGE_002f03M4BvvzKWJg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/cloudstreams-is-onlinehelp/CloudStreams_Fault.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../cloudstreams-is-onlinehelp/CloudStreams_ScreensIntro.html#wwconnect_header">CloudStreams Configuration Screens</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Service Fault Configuration</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_6_9_2" class="Heading_1">Service Fault Configuration</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_9_6_2_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_9_6_2_1_3_1_2" class="Table_Cell">The service fault configuration options are intended only for virtual services, and not for connector virtual services. For information about error handling for connector virtual services, see the topic <span class="Citation">The Error Sequence Step (Connector Virtual Service, SOAP)</span> or <span class="Citation">The Error Sequence Step (Connector Virtual Service, REST)</span> in the document <span class="Citation">Administering webMethods CloudStreams</span>.</div></td></tr></table></div><div id="ww3_6_9_6_4" class="Body">You can use these options to configure global error responses for all virtual services.</div><div id="ww3_6_9_6_6" class="Body">Alternatively, you can configure error responses for virtual services individually, in the services' "Error Sequence" step, as described in the topic <span class="Citation">The Error Sequence Step (Connector Virtual Service, SOAP)</span> or <span class="Citation">The Error Sequence Step (Connector Virtual Service, REST)</span> in the document <span class="Citation">Administering webMethods CloudStreams</span>.</div><div id="ww3_6_9_6_8" class="Body">The precedence of the error messaging instructions is as follows:</div><div id="ww3_6_9_6_10_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>If you create an "Error Sequence" step for a virtual service, the error messaging step takes precedence over any settings on the <span class="wintitle">Service Fault Configuration</span> page.</div><div id="ww3_6_9_6_10_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>If you do not create an "Error Sequence" step for a virtual service, the settings on the <span class="wintitle">Service Fault Configuration</span> page take precedence.</div><div id="ww3_6_9_6_12" class="Body">To open the Service Fault Configuration screen, click <span class="uicontrol">Solutions &gt; CloudStreams &gt; Administration &gt; Service Fault Configuration</span> in the Navigation panel.</div><div id="ww3_6_9_6_14_2" class="Section_Title">Service Fault Configuration</div><div id="ww3_6_9_6_14_4_2_2" class="Definition_Term">Default Fault Response</div><div id="ww3_6_9_6_14_4_2_4" class="Definition_Description">When you select this option, <span class="ph">CloudStreams</span> returns the following fault response to the consuming application:</div><div id="ww3_6_9_6_14_4_2_4_4" class="Definition_Description"><span class="codeph">CloudStreams encountered an error:$ERROR_MESSAGE while executing operation:$OPERATION service:$SERVICE at time:$TIME on date:$DATE. The client ip was:$CLIENT_IP. The current user:$USER. The consumer application:$CONSUMER_APPLICATION".</span></div><div id="ww3_6_9_6_14_4_2_4_6" class="Definition_Description">This fault response is returned in both of the following cases:</div><div id="ww3_6_9_6_14_4_2_4_8_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>When a fault is returned by the native service provider.</div><div id="ww3_6_9_6_14_4_2_4_8_2_3" class="List_2_Continued">In this case, the <span class="parmname">$ERROR_MESSAGE</span> variable in the fault response will contain the message produced by the provider's exception that caused the error. This is equivalent to the <span class="codeph">getMessage</span> call on the Java Exception. This maps to the <span class="external"><a href="http://www.w3.org/TR/2000/NOTE-SOAP-20000508/" target="external_window">faultString</a></span> element for SOAP 1.1 or the <span class="external"><a href="http://www.w3.org/TR/soap12-part1/#soapfault" target="external_window">Reason</a></span> element for SOAP 1.2 catch. For REST service calls, the message is returned inside an <span class="codeph">&lt;/Exception&gt;</span> tag. <span class="ph">CloudStreams</span> discards the native service provider's fault and does not return this content to the web service caller because it could be considered a security issue, especially if the native provider is returning a stack trace with its response.</div><div id="ww3_6_9_6_14_4_2_4_8_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>When a fault is returned by internal <span class="ph">CloudStreams</span> exceptions (policy violation errors, cloud connection errors, and cloud connector service errors).</div><div id="ww3_6_9_6_14_4_2_4_8_4_5" class="List_2_Continued">In this case, the <span class="parmname">$ERROR_MESSAGE</span> variable will contain the error message generated by <span class="ph">CloudStreams</span>.</div><div id="ww3_6_9_6_14_4_2_4_10" class="Definition_Description">The default fault response contains predefined fault handler variables (<span class="parmname">$ERROR_MESSAGE</span>, <span class="parmname">$OPERATION</span>, and so on), which are described in the topic <span class="Citation">The Fault Handler Variables</span> in the document <span class="Citation">Administering webMethods CloudStreams</span>.</div><div id="ww3_6_9_6_14_4_2_4_12" class="Definition_Description">You can customize the default fault response using the following substitution variables, where <span class="ph">CloudStreams</span> replaces the variable reference with the real content at run time:</div><div id="ww3_6_9_6_14_4_2_4_14_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>The predefined context variables listed in the topic <span class="Citation">The Predefined Context Variables</span> in the document <span class="Citation">Administering webMethods CloudStreams</span>.</div><div id="ww3_6_9_6_14_4_2_4_14_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Custom context variables that you declare using the <span class="ph">CloudStreams</span> API (see the topic <span class="Citation">The API for Context Variables</span> in the document <span class="Citation">Administering webMethods CloudStreams</span>).</div><div class="ww_skin_page_overflow"><table class="note2" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_9_6_14_4_2_4_16_1_3_1_2_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_9_6_14_4_2_4_16_1_3_1_3" class="Table_Cell">If you want to reference a custom context variable that you have already defined in a context-based routing rule (as opposed to the one you have declared using <span class="ph">CloudStreams</span> API for context variables), then you must add the prefix <span class="userinput">$mx</span> to the variable name in order to reference the variable. For example, if you defined the variable <span class="userinput">TAXID</span>, you would reference it as <span class="userinput">$mx:TAXID</span>.</div></td></tr></table></div><div id="ww3_6_9_6_14_4_4_2" class="Definition_Term">Send Native Provider Fault (when available)</div><div id="ww3_6_9_6_14_4_4_4" class="Definition_Description">When you select this option, <span class="ph">CloudStreams</span> sends the native service provider's fault content, if available. <span class="ph">CloudStreams</span> will send whatever content it received from the native service provider.</div><div id="ww3_6_9_6_14_4_4_4_6" class="Definition_Description">If you select this option, the <span class="uicontrol">Default Fault Response</span> is ignored when a fault is returned by the native service provider. (Faults returned by internal <span class="ph">CloudStreams</span> exceptions will still be handled by the <span class="uicontrol">Default Fault Response</span> option.)</div><div class="ww_skin_page_overflow"><table class="note2" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_9_6_14_4_4_4_8_1_3_1_2_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_6_9_6_14_4_4_4_8_1_3_1_3" class="Table_Cell">Unlike with SOAP specifications, there is no agreed upon format to suggest an error condition for REST services (that is, there is no element nested in a <span class="codeph">&lt;/soap:Fault&gt;</span> element nested in a <span class="codeph">&lt;/soap:Body&gt;</span>). <span class="ph">CloudStreams</span> assumes that REST services will follow HTTP conventions and return responses with return codes in the 200-299 range when service calls are successful. This is the only way <span class="ph">CloudStreams</span> can determine that a native provider's response should be interpreted as a failure.</div></td></tr></table></div><div id="ww3_6_9_8_1_2" class="Link_List_Title">Related Topics</div><div id="ww3_6_9_8_1_4" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_General.html#wwconnect_header" title="General">General</a></span></div><div id="ww3_6_9_8_1_6" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_Email.html#wwconnect_header" title="Email">Email</a></span></div><div id="ww3_6_9_8_1_8" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_Database.html#wwconnect_header" title="Database">Database</a></span></div><div id="ww3_6_9_8_1_10" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_VS.html#wwconnect_header" title="Virtual Services">Virtual Services</a></span></div><div id="ww3_6_9_8_1_12" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_STS.html#wwconnect_header" title="STS">STS</a></span></div><div id="ww3_6_9_8_1_14" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_Consumers.html#wwconnect_header" title="Consumers">Consumers</a></span></div><div id="ww3_6_9_8_1_16" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_OAuth.html#wwconnect_header" title="OAuth Tokens">OAuth Tokens</a></span></div><div id="ww3_6_9_8_1_18" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_Providers.html#wwconnect_header" title="Providers">Providers</a></span></div><div id="ww3_6_9_8_1_20" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_StreamingProviders.html#wwconnect_header" title="Streaming Providers">Streaming Providers</a></span></div><div id="ww3_6_9_8_1_22" class="heading-no-quotes"><span class="Link_Text"><a href="../cloudstreams-is-onlinehelp/CloudStreams_StreamingSubscribers.html#wwconnect_header" title="Streaming Subscribers">Streaming Subscribers</a></span></div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://softwareag.com/licenses/" target="external_window">Copyright © <span></span><span></span><span>2013</span><span>-2016</span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/product_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>